<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>Logs – MiniLabo</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <h1>Logs</h1>
  <label for="lines">Lignes :</label>
  <input type="number" id="lines" value="100" min="1" max="500" step="1">
  <button onclick="refresh()">Rafraîchir</button>
  <br>
  <textarea id="logs" rows="20" cols="80" readonly></textarea>
  <script>
  async function refresh() {
    const n = document.getElementById('lines').value;
    try {
      const res = await fetch('/api/logs/tail?n=' + n);
      const text = await res.text();
      document.getElementById('logs').value = text;
    } catch (e) {
      document.getElementById('logs').value = 'Erreur lors du chargement des logs.';
    }
  }
  refresh();
  </script>
</body>
</html>